{{/*apiVersion: networking.k8s.io/v1*/}}
{{/*kind: Ingress*/}}
{{/*metadata:*/}}
{{/*  name: kubernetes-dashboard*/}}
{{/*  namespace: kubernetes-dashboard*/}}
{{/*  annotations:*/}}
{{/*    # Enable TLS with Let's Encrypt*/}}
{{/*    cert-manager.io/cluster-issuer: "letsencrypt-prod"*/}}
{{/*    # Force HTTPS*/}}
{{/*    traefik.ingress.kubernetes.io/router.tls: "false"*/}}
{{/*    # traefik.ingress.kubernetes.io/router.middlewares: "default-redirect-https@kubernetescrd"*/}}
{{/*spec:*/}}
{{/*  tls:*/}}
{{/*  - hosts:*/}}
{{/*    - dashboard.{{ .Values.global.domain }}*/}}
{{/*    secretName: dashboard-tls*/}}
{{/*  rules:*/}}
{{/*  - host: dashboard.{{ .Values.global.domain }}*/}}
{{/*    http:*/}}
{{/*      paths:*/}}
{{/*      - path: /*/}}
{{/*        pathType: Prefix*/}}
{{/*        backend:*/}}
{{/*          service:*/}}
{{/*            name: kubernetes-dashboard*/}}
{{/*            port:*/}}
{{/*              number: 8443*/}}
{{/*---*/}}
{{/*# Middleware to redirect HTTP to HTTPS*/}}
{{/*apiVersion: traefik.containo.us/v1alpha1*/}}
{{/*kind: Middleware*/}}
{{/*metadata:*/}}
{{/*  name: redirect-https*/}}
{{/*spec:*/}}
{{/*  redirectScheme:*/}}
{{/*    scheme: https*/}}
{{/*    permanent: true*/}}